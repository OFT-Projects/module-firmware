# Module Mongoose OS App

## Build
1. In order to build the app, mos.yml need to be modified, including:
- Wi-Fi configuration: wifi.sta.ssid, wifi.sta.pass.
- MQTT broker configuration: mqqt.server, mqqt_ssl_ca_cert, mqtt.ssl_cert, mqtt.ssl_key.
- Storing your ssl certificates and key inside fs directory requires only file name to be written in config.
- mqtt_ssl_ca_cert is generated by the ca-bundle library directly into fs directory when flashed, whilst others must be fetched from the cloud service in use.

2. On repo root directory, run Mongoose OS build command:
```bash
// Host send a build request to Mongoose's remote builder machine, which sends back a build directory based on source files and chosen libs
$ mos build --platform esp8266 // --local can be used to build locally with Docker
```

## Flash
1. Build directory will be created after build process. It contains the brand new firmware fetched from the cloud. In order to flash it to MCU, connect the MCU to the computer via USB cable, and type the following command from repo root directory:
```bash
// Flash firmware to MCU connected to USB port
$ mos flash // --port and --firmware can be specified
```
2. Done! The firmware has been flashed to MCU and it has already started to run.
